#!/bin/bash
# Git hook para aÃ±adir emojis automÃ¡ticamente a los commits segÃºn el tipo

COMMIT_MSG_FILE=$1
COMMIT_SOURCE=$2

# Solo procesar commits normales (no merge, amend, etc)
if [ -z "$COMMIT_SOURCE" ] || [ "$COMMIT_SOURCE" = "message" ]; then
    # Leer el mensaje del commit
    COMMIT_MSG=$(cat "$COMMIT_MSG_FILE")

    # Mapeo de tipos de commit a emojis
    case "$COMMIT_MSG" in
        fix:*)
            NEW_MSG="ðŸ› $COMMIT_MSG"
            ;;
        feat:*)
            NEW_MSG="âœ¨ $COMMIT_MSG"
            ;;
        docs:*)
            NEW_MSG="ðŸ“ $COMMIT_MSG"
            ;;
        *)
            # Si no coincide con ningÃºn tipo, dejar el mensaje sin cambios
            NEW_MSG="$COMMIT_MSG"
            ;;
    esac

    # Escribir el nuevo mensaje
    echo "$NEW_MSG" > "$COMMIT_MSG_FILE"
fi
